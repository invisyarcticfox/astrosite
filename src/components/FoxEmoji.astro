---
import { Image } from 'astro:assets';
import foxEmojis from '../foxEmojis';
import type { FoxEmojiNames } from '../foxEmojis';
import nfSprites from '../assets/neofox.png'
const emojiSize = 32;

const getPosition = (name: FoxEmojiNames) => {
  const position = foxEmojis[name]?.split(' ') || ['0', '0'];
  return position.map(Number);
};

interface Props {
  name: FoxEmojiNames;
}

const { name } = Astro.props;
---

<Image
  src={nfSprites} alt={'nfSprites'} loading={'eager'} quality={'mid'}
  width={nfSprites.width} height={nfSprites.height}
  style={{
    '--pos': `-${getPosition(name)[0]}px -${getPosition(name)[1]}px`,
    '--sz': `${emojiSize}px`
  }}
  data-foxname={name} title={`:${name}:`}
/>

<style>
  img {
    object-position: var(--pos);
    object-fit: none;
    inline-size: var(--sz);
    block-size: var(--sz);
    width: var(--sz);
    height: var(--sz);
    vertical-align: middle;
    position: relative;
    top: -3px;
  }
</style>